 <!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>FOOD AVENUE ğŸ˜‰</title>
   <link rel="stylesheet" href="style.css">
   <link rel="icon" type="image/png" href="images/Delicious Home Food (2).jpg">

   <script src="cart.js"></script>
</head>


<body>
   <nav class="navbar">
      <div class="logo">
         <img src="images/Delicious Home Food (2).jpg" alt="Logo">
      </div>

      <ul>
         <li><a href="#">Home</a></li>
         <li><a href="about.html">About</a></li>
         <li><a href="contact.html">Contact</a></li>
      </ul>

      <!-- CART ICON -->
      <div class="nav-cart" onclick="toggleCart()">
         ğŸ›’ <span id="cart-count">0</span>
      </div>
   </nav>

   <section class="intro">
      <h1>Welcome to Food Avenue</h1>
      <p class="subtext">Where every bite is a journey of flavor! Discover mouthwatering dishes, fresh ingredients, and
         a passion for good food all in one place.</p>
      <div class="slideshow">
         <div class="slide"><img src="images/The-burger 3.jpg" alt="food 8"></div>
         <div class="slide"><img src="images/bacon-hotdog.jpg" alt="food 3"></div>
         <div class="slide"><img src="images/pineapple.jpg" alt="food 4"></div>
         <div class="slide"><img src="images/chicken-hotdog.jpg" alt="food 5"></div>
         <div class="slide"><img src="images/bbq-chicken.jpg" alt="bbq chicken"></div>
      </div>
      <p class="description">
         At Food Avenue, we bring together taste, creativity, and freshness to serve dishes that satisfy your cravings
         and warm your heart. Every meal is crafted with passion, using the finest ingredients to give you a truly
         unforgettable experience. Explore our latest delicacies.
      </p>
   </section>

   <div class="food-container">
      <section class="food-section">
         <div class="image-part">
            <img src="images/burrger.jpg" alt="burger">
         </div>
         <div class="text-part">
            <h1><a href="fresh-burger.html">FRESH BURGER ğŸ”</a></h1>
            <p>We craft each dish using fresh ingredients from local farms</p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/pizza.jpg" alt="Fresh pizza">
         </div>
         <div class="text-part">
            <h1><a href="the-pizza.html">PIZZA ğŸ•</a></h1>
            <p>Fresh dough, rich cheese,and bold flavour baked to perfection - one bite and you'll be craving more. </p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/hoot-dog.jpg" alt="burger">
         </div>
         <div class="text-part">
            <h1><a href="hot-dog.html">HOTDOG ğŸŒ­</a></h1>
            <p>our hotdogs ğŸŒ­are crafted to bring you that perfect bite â€” soft, warm buns wrapped around juicy,
               flavorful sausages.ğŸ‘ŒğŸ»ğŸ˜‰</p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/fried chicken.jpg" alt="Chicken">
         </div>
         <div class="text-part">
            <h1><a href="chicken.html">CHICKEN ğŸ—</a></h1>
            <p>we present our Chicken Wings â€” golden-fried to perfection and coated in bold, mouthwatering sauces that
               keep you coming back for more.ğŸ˜‡ </p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/FRIES.jpg" alt="FRIES ğŸŸ">
         </div>
         <div class="text-part">
            <h1><a href="fries.html">FRIES ğŸŸğŸŸ</a></h1>
            <p> Food Avenue brings you fries with that perfect crunch â€” simple, delicious, and unforgettable. </p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/main-shawarma.jpg" alt="">
         </div>
         <div class="text-part">
            <h1><a href="shawarma.html">SHAWARMA ğŸ˜‡</a></h1>
            <p> At Food Avenue, we present to you the Classic Shawarma â€” tender, marinated chicken slices wrapped in
               soft pita bread and drizzled with our signature garlic sauce for that perfect bite!</p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/juice.jpg" alt="juice">
         </div>
         <div class="text-part">
            <h1><a href="juice.html">Juices ğŸ¹</a></h1>
            <p> Freshly squeezed and naturally sweet â€” our juices are packed with vitamins and bursting with flavor.ğŸ˜‰
            </p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/coke.jpg" alt="soft drink">
         </div>
         <div class="text-part">
            <h1><a href="drinks.html">Soft Drinks ğŸ¥¤</a></h1>
            <p> Fizzy, fun, and classic â€” our soft drinks are here to keep you refreshed and energized.ğŸ¥¤</p>
         </div>
      </section>

      <section class="food-section">
         <div class="image-part">
            <img src="images/special-drink.jpg" alt="speciality-drink">
         </div>
         <div class="text-part">
            <h1><a href="speciality-drink.html">Specialty Drinks ğŸ¸</a></h1>
            <p> Unique, flavorful, and made to delight â€” our specialty drinks are a treat in every sip </p>
         </div>
      </section>
   </div>

   <div class="cart-box" id="cartBox">
      <!-- Cart Header -->
      <div class="cart-header">
         <h2>Your Cart</h2>
         <span class="close-cart" onclick="toggleCart()">âœ–</span>
      </div>

      <!-- Cart Items -->
      <ul id="cart-items" class="cart-items"></ul>

      <!-- Cart Footer -->
      <div class="cart-footer">
         <p class="cart-total">
            Total: â‚¦<span id="cart-total">0</span>
         </p>

         <p id="cart-message" class="cart-message"></p>

         <button id="checkoutBtn">Checkout</button>
      </div>
   </div>

   <!-- COMPLETELY FIXED JAVASCRIPT -->
   <script>
      let cart = [];
      let lastCartString = "";

      // Format numbers like â‚¦8,500
      function formatNaira(amount) {
         return amount.toLocaleString("en-NG");
      }

      // Update cart count badge
      function updateCartCount() {
         cart = JSON.parse(localStorage.getItem("cart")) || [];
         let count = 0;

         cart.forEach(item => {
            count += item.quantity;
         });

         const countEl = document.getElementById("cart-count");
         if (countEl) {
            countEl.textContent = count;
         }
      }

      function increaseQty(index) {
         cart[index].quantity++;
         saveCart();
         updateCart();
      }

      function decreaseQty(index) {
         cart[index].quantity--;
         if (cart[index].quantity <= 0) {
            cart.splice(index, 1);
         }
         saveCart();
         updateCart();
      }

      function removeItem(index) {
         cart.splice(index, 1);
         saveCart();
         updateCart();
      }

      function saveCart() {
         localStorage.setItem("cart", JSON.stringify(cart));
         updateCartCount();
      }

      function updateCart() {
         cart = JSON.parse(localStorage.getItem("cart")) || [];
         const cartList = document.getElementById("cart-items");
         const totalSpan = document.getElementById("cart-total");
         const cartMessage = document.getElementById("cart-message");

         if (!cartList || !totalSpan) return;

         cartList.innerHTML = "";
         let total = 0;

         if (cart.length === 0) {
            cartList.innerHTML = '<li style="text-align:center; color:#999; padding:20px;">Your cart is empty</li>';
         } else {
            cart.forEach((item, index) => {
               total += item.amount * item.quantity;

               cartList.innerHTML += `
                  <li class="cart-row">
                     <div class="cart-info">
                        <span class="cart-name">${item.food}</span>
                        <span class="cart-price">â‚¦${formatNaira(item.amount)}</span>
                     </div>

                     <div class="cart-controls">
                        <button class="qty-btn" onclick="decreaseQty(${index})">âˆ’</button>
                        <span class="qty">${item.quantity}</span>
                        <button class="qty-btn" onclick="increaseQty(${index})">+</button>
                     </div>

                     <button class="remove-btn" onclick="removeItem(${index})">Remove</button>
                  </li>
               `;
            });
         }

         totalSpan.textContent = formatNaira(total);

         if (cart.length > 0 && cartMessage) {
            cartMessage.textContent = "";
         }

         updateCartCount();
      }

      function toggleCart() {
         const cartBox = document.getElementById("cartBox");
         if (cartBox) {
            cartBox.classList.toggle("show");
            // Update cart when opening
            updateCart();
         }
      }

      // Continuously check for cart changes
      function checkCartChanges() {
         const currentCartString = localStorage.getItem("cart") || "[]";
         
         if (currentCartString !== lastCartString) {
            lastCartString = currentCartString;
            updateCart();
            updateCartCount();
         }
      }

      // Initialize on page load
      window.addEventListener("DOMContentLoaded", () => {
         updateCart();
         updateCartCount();
         lastCartString = localStorage.getItem("cart") || "[]";

         const checkoutBtn = document.getElementById("checkoutBtn");
         const cartMessage = document.getElementById("cart-message");

         if (checkoutBtn) {
            checkoutBtn.addEventListener("click", () => {
               cart = JSON.parse(localStorage.getItem("cart")) || [];
               if (cart.length === 0) {
                  if (cartMessage) {
                     cartMessage.textContent = "Your cart is empty. Add items to your cart!";
                  }
                  return;
               }
               window.location.href = "checkout.html";
            });
         }

         // Check for changes every 500ms (half second)
         setInterval(checkCartChanges, 500);
      });

      // Update when page becomes visible again
      document.addEventListener("visibilitychange", () => {
         if (!document.hidden) {
            updateCart();
            updateCartCount();
         }
      });

      // Update when window gets focus
      window.addEventListener("focus", () => {
         updateCart();
         updateCartCount();
      });

      // Update when navigating back
      window.addEventListener("pageshow", () => {
         updateCart();
         updateCartCount();
      });
   </script>

   <script>
      document.addEventListener("DOMContentLoaded", () => {
         // select food sections for animation
         const revealElements = document.querySelectorAll(".food-section");

         const observer = new IntersectionObserver(
            (entries) => {
               entries.forEach(entry => {
                  if (entry.isIntersecting) {
                     entry.target.classList.add("show");
                  }
               });
            },
            {
               threshold: 0.1
            }
         );

         revealElements.forEach(el => observer.observe(el));
      });
   </script>

</body>

</html>